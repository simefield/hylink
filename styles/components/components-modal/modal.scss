/**
 * Modal
 */
//  body {
//   overflow: hidden !important;
//   position:fixed !important;
//   width: 100% !important;
// }
// .ember-modal-dialog {
//   max-height: 100%;
//   top: 0 !important;
// }

.ember-modal-overlay {
  background-color: rgba($black-5, .8);
  height: 100vh;
  left: 0;
  pointer-events: none;
  position: fixed;
  right: 0;
  top: 0;
  z-index: $z-modal;
}

.ember-modal-dialog {
  background-color: $white;
  border-radius: $border-radius;
  box-shadow: 0 1px 5px 0 rgba($black, .2);
  max-height: 100vh; // prevent being positioned off the top of the page if modal content very long
  max-width: $max-content-width;
  min-width: 460px;
  overflow-y: auto;
  position: fixed;
  z-index: $z-modal;
  
  // is this used??
  // &.ember-modal-dialog-in-place {
  //   position: relative;
  // }

  /**
   * Make modals full screen on mobile, but also for iPad because
   * iOS7.1 can't handle the fixed positioning, vh, overflow scrolling
   * refer to http://caniuse.com/#search=vh
   *
   * Somewhat annoyingly too, we can't extend within our sass media queries here,
   * so need to duplicate the code below three times!
   */
  // full screen modal on mobile devices
  @media #{$mobile-only} {
      // scss-lint:disable ImportantRule PropertySortOrder
  -webkit-overflow-scrolling: touch;
  overflow-y: scroll; /* has to be scroll, not auto */
  height: 100%;
  width: 100%;
  // override the modal plugin positioning
  left: 0 !important;
  top: 0 !important;
  margin-left: 0 !important;
  margin-top: 0 !important;
  // scss-lint:enable ImportantRule PropertySortOrder
  min-width: initial;
  }
  // full screen for iPad
  // https://gist.github.com/pburtchaell/e702f441ba9b3f76f587
  /** 
   * iPad with portrait orientation.
   */
  @media all and (device-width: 768px) and (device-height: 1024px) and (orientation:portrait) {
      // scss-lint:disable ImportantRule PropertySortOrder
  -webkit-overflow-scrolling: touch;
  overflow-y: scroll; /* has to be scroll, not auto */
  height: 100%;
  width: 100%;
  // override the modal plugin positioning
  left: 0 !important;
  top: 0 !important;
  margin-left: 0 !important;
  margin-top: 0 !important;
  // scss-lint:enable ImportantRule PropertySortOrder
  min-width: initial;
  }
  /** 
   * iPad with landscape orientation.
   */
  @media all and (device-width: 768px) and (device-height: 1024px) and (orientation:landscape) {
      // scss-lint:disable ImportantRule PropertySortOrder
  -webkit-overflow-scrolling: touch;
  overflow-y: scroll; /* has to be scroll, not auto */
  height: 100%;
  width: 100%;
  // override the modal plugin positioning
  left: 0 !important;
  top: 0 !important;
  margin-left: 0 !important;
  margin-top: 0 !important;
  // scss-lint:enable ImportantRule PropertySortOrder
  min-width: initial;
  }
}

.Modal-close {
  background-image: url("images/icon-close.svg");
  background-repeat: no-repeat;
  color: $link;
  height: 20px;
  position: absolute;
  right: $v;
  top: $v;
  width: 20px;
}

.Modal-header {
  box-shadow: 0 0 5px rgba($black, .2);
  padding: $v*2/3 $h $v/2;

  @media #{$mobile-only} {
    min-height: 68px;
    padding-bottom: $v/2;
    padding-top: $v/2;
    position: relative; // brings drop-shadow forward
  }
}

.Modal-title {
  @extend %franklin-gothic-book;
  @include font-size(24px);
  margin-top: 0;
  
  @media #{$mobile-only} {
    @extend %franklin-gothic-medium;
    @include font-size(16px, 42px);
    position: relative;
    text-align: center;
    top: 3px; // visual tweak
  }
}

.Modal-body {
  padding-left: $h/2;
  padding-right: $h/2;
  padding-top: $v;

  @media #{$tablet-up} {
    padding-left: $h*1.5;
    padding-right: $h*1.5;
  }
}

.Modal-footer {
  margin-top: $v;
  padding-bottom: $v;
  padding-left: $h;
  padding-right: $h;
  text-align: center;
}
